System.register(["./pipeline-state-manager-8f16c5a7.js","./buffer-barrier-d1733967.js","./capsule-212e055a.js","./index-68ccac70.js","./find-222dc7da.js","./create-mesh-1be8f092.js","./mesh-97b1b18c.js","./node-event-40319828.js"],(function(n){"use strict";var i,o,t,r,s,e,a,u,v,f,c,h,d,p,m,l;return{setters:[function(){},function(n){i=n.v},function(n){o=n.c,t=n.a,r=n.b,s=n.p,e=n.d},function(n){a=n.o,u=n.ab,v=n.bD,f=n.bF,c=n.bA,h=n.bE,d=n.l,p=n.bg},function(){},function(n){m=n._},function(n){l=n.M},function(){}],execute:function(){var M,P,y,g,x,b,E,z,I=Object.freeze({__proto__:null,box:r,cone:function(n,i,t){return void 0===n&&(n=.5),void 0===i&&(i=1),void 0===t&&(t={}),o(0,n,i,t)},cylinder:o,plane:s,quad:function(n){var i=t(n),o={positions:[-.5,-.5,0,-.5,.5,0,.5,.5,0,.5,-.5,0],indices:[0,3,1,3,2,1],minPos:{x:-.5,y:-.5,z:0},maxPos:{x:.5,y:.5,z:0},boundingRadius:Math.sqrt(.5)};return!1!==i.includeNormal&&(o.normals=[0,0,1,0,0,1,0,0,1,0,0,1]),!1!==i.includeUV&&(o.uvs=[0,0,0,1,1,1,1,0]),o},sphere:function(n,i){void 0===n&&(n=.5),void 0===i&&(i={});for(var o=void 0!==i.segments?i.segments:32,t=[],r=[],s=[],e=[],u=new a(-n,-n,-n),v=new a(n,n,n),f=n,c=0;c<=o;++c)for(var h=c*Math.PI/o,d=Math.sin(h),p=-Math.cos(h),m=0;m<=o;++m){var l=2*m*Math.PI/o-Math.PI/2,M=Math.sin(l)*d,P=p,y=Math.cos(l)*d,g=m/o,x=c/o;if(t.push(M*n,P*n,y*n),r.push(M,P,y),s.push(g,x),c<o&&m<o){var b=o+1,E=b*c+m,z=b*(c+1)+m,I=b*(c+1)+m+1,L=b*c+m+1;e.push(E,L,z),e.push(L,I,z)}}return{positions:t,indices:e,normals:r,uvs:s,minPos:u,maxPos:v,boundingRadius:f}},torus:function(n,i,o){void 0===n&&(n=.4),void 0===i&&(i=.1),void 0===o&&(o={});for(var t=o.radialSegments||32,r=o.tubularSegments||32,s=o.arc||2*Math.PI,e=[],u=[],v=[],f=[],c=new a(-n-i,-i,-n-i),h=new a(n+i,i,n+i),d=n+i,p=0;p<=t;p++)for(var m=0;m<=r;m++){var l=m/r,M=p/t,P=l*s,y=M*Math.PI*2,g=(n+i*Math.cos(y))*Math.sin(P),x=i*Math.sin(y),b=(n+i*Math.cos(y))*Math.cos(P),E=Math.sin(P)*Math.cos(y),z=Math.sin(y),I=Math.cos(P)*Math.cos(y);if(e.push(g,x,b),u.push(E,z,I),v.push(l,M),m<r&&p<t){var L=r+1,R=L*p+m,A=L*(p+1)+m,N=L*(p+1)+m+1,S=L*p+m+1;f.push(R,S,A),f.push(S,N,A)}}return{positions:e,normals:u,uvs:v,indices:f,minPos:c,maxPos:h,boundingRadius:d}},capsule:e,circle:function(n){var o=function(n){return(n=t(n)).segments=64,n}(n).segments,r=new Array(3*(o+1));r[0]=0,r[1]=0,r[2]=0;var s=new Array(1+2*o);s[0]=0;for(var e=2*Math.PI/o,a=0;a<o;++a){var u=e*a,v=Math.cos(u),f=Math.sin(u),c=3*(a+1);r[c+0]=v,r[c+1]=f,r[c+2]=0;var h=2*a;s[1+h]=a+1,s[1+(h+1)]=a+2}return o>0&&(s[s.length-1]=1),{positions:r,indices:s,minPos:{x:1,y:1,z:0},maxPos:{x:-1,y:-1,z:0},boundingRadius:1,primitiveMode:i.TRIANGLE_FAN}},translate:function(n,i){for(var o=i.x||0,t=i.y||0,r=i.z||0,s=Math.floor(n.positions.length/3),e=0;e<s;++e){var a=3*e,u=3*e+1,v=3*e+2;n.positions[a]+=o,n.positions[u]+=t,n.positions[v]+=r}return n.minPos&&(n.minPos.x+=o,n.minPos.y+=t,n.minPos.z+=r),n.maxPos&&(n.maxPos.x+=o,n.maxPos.y+=t,n.maxPos.z+=r),n},scale:function(n,i){for(var o,t,r,s=null!==(o=i.x)&&void 0!==o?o:1,e=null!==(t=i.y)&&void 0!==t?t:1,a=null!==(r=i.z)&&void 0!==r?r:1,u=Math.floor(n.positions.length/3),v=0;v<u;++v){var f=3*v,c=3*v+1,h=3*v+2;n.positions[f]*=s,n.positions[c]*=e,n.positions[h]*=a}var d=n.minPos,p=n.maxPos;if(d&&(d.x*=s,d.y*=e,d.z*=a),p&&(p.x*=s,p.y*=e,p.z*=a),d&&p){if(s<0){var m=d.x;d.x=p.x,p.x=m}if(e<0){var l=d.y;d.y=p.y,p.y=l}if(a<0){var M=d.z;d.z=p.z,p.z=M}}return void 0!==n.boundingRadius&&(n.boundingRadius*=Math.max(Math.max(Math.abs(s),Math.abs(e)),Math.abs(a))),n},wireframed:function(n){var o=n.indices;if(!o)return n;if(n.primitiveMode&&n.primitiveMode!==i.TRIANGLE_LIST)return n;for(var t=[[0,1],[1,2],[2,0]],r=[],s={},e=0;e<o.length;e+=3)for(var a=0;a<3;++a){var u=o[e+t[a][0]],v=o[e+t[a][1]],f=u>v?v<<16|u:u<<16|v;void 0===s[f]&&(s[f]=0,r.push(u,v))}return n.indices=r,n.primitiveMode=i.LINE_LIST,n},wireframe:function(n){for(var i=[[0,1],[1,2],[2,0]],o=[],t={},r=0;r<n.length;r+=3)for(var s=0;s<3;++s){var e=n[r+i[s][0]],a=n[r+i[s][1]],u=e>a?a<<16|e:e<<16|a;void 0===t[u]&&(t[u]=0,o.push(e,a))}return o},invWinding:function(n){for(var i=[],o=0;o<n.length;o+=3)i.push(n[o],n[o+2],n[o+1]);return i},toWavefrontOBJ:function(n,o){if(void 0===o&&(o=1),!n.indices||!n.uvs||!n.normals||void 0!==n.primitiveMode&&n.primitiveMode!==i.TRIANGLE_LIST)return"";for(var t=n.positions,r=n.uvs,s=n.normals,e=n.indices,a=function(n){return e[n]+1+"/"+(e[n]+1)+"/"+(e[n]+1)},u="",v=0;v<t.length;v+=3)u+="v "+t[v]*o+" "+t[v+1]*o+" "+t[v+2]*o+"\n";for(var f=0;f<r.length;f+=2)u+="vt "+r[f]+" "+r[f+1]+"\n";for(var c=0;c<s.length;c+=3)u+="vn "+s[c]+" "+s[c+1]+" "+s[c+2]+"\n";for(var h=0;h<e.length;h+=3)u+="f "+a(h)+" "+a(h+1)+" "+a(h+2)+"\n";return u},normals:function(n,i,o){void 0===o&&(o=1);for(var t=new Array(2*n.length),r=0;r<n.length/3;++r){var s=3*r,e=6*r;t[e+0]=n[s+0],t[e+1]=n[s+1],t[e+2]=n[s+2],t[e+3]=n[s+0]+i[s+0]*o,t[e+4]=n[s+1]+i[s+1]*o,t[e+5]=n[s+2]+i[s+2]*o}return t},applyDefaultGeometryOptions:t});n("primitives",I),function(n){n[n.BOX=0]="BOX",n[n.SPHERE=1]="SPHERE",n[n.CYLINDER=2]="CYLINDER",n[n.CONE=3]="CONE",n[n.CAPSULE=4]="CAPSULE",n[n.TORUS=5]="TORUS",n[n.PLANE=6]="PLANE",n[n.QUAD=7]="QUAD"}(z||(z={})),u(z);var L=n("Primitive",(M=v("cc.Primitive"),P=f(z),M(((E=function(n){function i(i){var o;return void 0===i&&(i=z.BOX),(o=n.call(this)||this).type=x&&x(),o.info=b&&b(),o.type=i,o}return c(i,n),i.prototype.onLoaded=function(){m(I[z[this.type].toLowerCase()](this.info),this)},i}(l)).PrimitiveType=z,x=h((g=E).prototype,"type",[P],(function(){return z.BOX})),b=h(g.prototype,"info",[p],(function(){return{}})),y=g))||y));d.Primitive=L,d.primitives=I}}}));
